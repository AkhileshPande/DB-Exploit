#!/usr/bin/python3

import requests
import os
import subprocess as ok
import argparse

parser = argparse.ArgumentParser(description="tool to check if url is accessible")
parser.add_argument("-apk", type=str, help="type name of of apk", required=True)
a = parser.parse_args()

url=ok.getoutput("strings "+a.apk+" | egrep -o 'https\:\/\/(.*).firebaseio.com'")
h=url+"/.json"
r=requests.get(h)
riid=r.status_code
payload = {'name':'akhilesh','alias':'akhi'}
w=requests.put(h, data=payload)
rite=w.status_code

if riid == 200:
    print("READ")
else:
    print("NO READ")
if rite == 200 or rite == 201:
    print("WRITE")
else:
    print("NOT WRITE")
